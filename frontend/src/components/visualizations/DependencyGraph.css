/* Main container */
.dependency-graph-container {
  display: flex;
  flex-direction: column;
  gap: 24px;
  width: 100%;
}

/* Wrapper for side-by-side layout (Graph + Table) */
.dependency-graph-content {
  display: flex;
  gap: 24px;
  align-items: flex-start;
}

/* Canvas Wrapper (Left side) */
.dependency-graph-canvas-wrapper {
  flex: 3;
  /* Takes up 60-70% of space */
  height: 600px;
  /* Taller canvas */
  border: 1px solid #e8e8e6;
  border-radius: 6px;
  background-color: #ffffff;
  /* overflow: hidden; Removed to allow tooltip to show if near edge, though it's inside so it might still clip if parent has issues. 
     Actually, if position is absolute relative to this wrapper, it won't show outside if overflow is hidden. 
     But creating a stacking context is fine. 
  */
  position: relative;
}

/* Metrics Dashboard Styles */
.dependency-graph-metrics {
  width: 100%;
  margin-top: 24px;
  border-top: 1px solid #f0f0f0;
  padding-top: 24px;
}

.metrics-title {
  font-family: 'CooperLtBT', sans-serif;
  font-size: 18px;
  margin-bottom: 16px;
  color: #2a2a2a;
}

.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 32px;
}

.metric-card {
  background: white;
  padding: 16px;
  border-radius: 6px;
  /* border: 1px solid #e8e8e6; removed border for cleaner look if desired, or keep it */
  /* box-shadow: 0 1px 3px rgba(0,0,0,0.05); */
}

.metric-card label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: #6b6b6b;
  text-transform: uppercase;
  margin-bottom: 8px;
  letter-spacing: 0.5px;
}

.metric-card .metric-value {
  display: block;
  font-size: 24px;
  font-weight: 500;
  color: #2a2a2a;
  font-family: 'CooperLtBT', sans-serif;
}

/* Most Connected Files List */
.most-connected-section {
  background-color: #fafafa;
  padding: 24px;
  border-radius: 8px;
}

.metrics-subtitle {
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 16px;
  color: #2a2a2a;
}

.most-connected-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.most-connected-list li {
  display: flex;
  flex-direction: column;
  margin-bottom: 12px;
  padding-bottom: 12px;
  border-bottom: 1px solid #eee;
}

.most-connected-list li:last-child {
  border-bottom: none;
}

.most-connected-list .rank {
  font-weight: 500;
  color: #2a2a2a;
  margin-bottom: 4px;
}

.most-connected-list .details {
  font-size: 13px;
  color: #6b6b6b;
}

/* Layout Utilities */
.vertical-layout {
  flex-direction: column;
  width: 100%;
}

.top-legend {
  flex-direction: row;
  align-items: center;
  border: none;
  background: transparent;
  padding: 0;
  margin-bottom: 12px;
}

.top-legend .dependency-graph-legend-title {
  margin-right: 16px;
}

/* Ensure Wrapper takes full width in vertical layout */
.vertical-layout .dependency-graph-canvas-wrapper {
  width: 100%;
  flex: none;
  /* override flex: 3 */
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .metrics-grid {
    grid-template-columns: 1fr;
  }
}

/* Table Container (Right side) */
.dependency-graph-table-container {
  flex: 2;
  /* Takes up rest of space */
  max-height: 600px;
  /* Match canvas height */
  overflow-y: auto;
  /* Scrollable table */
  border: 1px solid #e8e8e6;
  border-radius: 6px;
  margin-top: 0;
  /* Remove top margin */
}

@media (max-width: 1024px) {
  .dependency-graph-content {
    flex-direction: column;
  }

  .dependency-graph-canvas-wrapper {
    width: 100%;
    height: 500px;
  }

  .dependency-graph-table-container {
    width: 100%;
    max-height: 400px;
  }
}

.dependency-graph-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
  color: #2a2a2a;
}

.dependency-graph-table th,
.dependency-graph-table td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid #f0f0f0;
}

.dependency-graph-table th {
  background-color: #f9f9f9;
  font-weight: 600;
  color: #6b6b6b;
  font-family: 'CooperLtBT', sans-serif;
  position: sticky;
  top: 0;
  z-index: 1;
}

.dependency-graph-table tr:last-child td {
  border-bottom: none;
}

.dependency-graph-table tr:hover {
  background-color: #f5f5f5;
}

/* Tooltip Styles */
.dependency-graph-tooltip {
  position: absolute;
  background-color: rgba(30, 30, 30, 0.9);
  color: #fff;
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 12px;
  pointer-events: none;
  z-index: 10;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 250px;
}

.dependency-graph-tooltip-title {
  font-weight: 600;
  margin-bottom: 4px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  padding-bottom: 4px;
  display: block;
}

.dependency-graph-tooltip-meta {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 4px 12px;
}

.dependency-graph-tooltip-label {
  color: #aaa;
}